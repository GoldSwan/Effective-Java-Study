### toString 일반 규약

toString 규약

- 간결하면서 사람이 읽기 쉬운 형태의 유익한 정보를 반환하도록 재정의해야 함
    - 예 : PhoneNumber 라는 전화번호 클래스의 경우 전화번호 정보를 알려주는 toString 메서드 작성
- 모든 하위 클래스에서 toString 메서드를 재정의해야 함

toString 메서드를 잘 구현한 클래스의 장점

- 사용하기에 편하다.
- 디버깅을 하기 쉽다.
- →오류 메세지를 출력할 때 자동으로 클래스 안 내용을 출력할 수 있다.
- 예 : toString을 재정의하면 컬렉션(Map)과 같은 인스턴스를 포함하는 객체를 출력 시 {Swan = 010-1111-2222}와 같은 메세지가 나오게 된다.

toString 메서드를 잘 구현하는 법

- 객체의 주요 정보를 모두 반환하기
- 객체에 담고 있는 정보가 많거나 문자열로 표현하기에 적합하지 않다면 스스로를 완전히 설명하는 요약 정보 담기
    - 예 : 서울 거주자 전화번호부(총 224124개)
- 포맷을 명시할 지 안할 지를 결정하기
    - 명시할 경우
        - 사용자가 이 값을 그대로 입출력, CSV 파일 같은 곳에 활용 가능
        - 포맷에 얽매이게 되어 이를 바꿀 시 사용하던 코드들은 전부 엉망이 됨
        - 따라서 함부로 포맷을 바꿀 수가 없게 됨
    - 명시하지 않을 경우
        - 다음 배포에서 수정을 하여 정보를 더 추가할 수 있음
        - 포맷의 유연성을 갖게 됨

포맷 명시 O

```java
/**
     * 이 전화번호의 문자열 표현을 반환한다.
     * 이 문자열은 "XXX-YYY-ZZZZ" 형태의 12글자로 구성된다.
     * XXX는 지역 코드, YYY는 프리픽스, ZZZZ는 가입자 번호다.
     * 각각의 대문자는 10진수 숫자 하나를 나타낸다.
     *
     * 전화번호의 각 부분의 값이 너무 작아서 자릿수를 채울 수 없다면,
     * 앞에서부터 0으로 채워나간다. 예컨대 가입자 번호가 123이라면
     * 전화번호의 마지막 네 문자는 "0123"이 된다.
     */
    @Override public String toString() {
        return String.format("%03d-%03d-%04d",
                areaCode, prefix, lineNum);
    }
```

포맷 명시 X

```java
/**
     * 이 제품에 대한 대략적인 설명을 반환한다.
     * 다음은 이 설명의 일반적인 형태지만, 추후 수정될 수 있다.
     * "[품목 : 품목코드 = COFFEE0001, 품목명 = 에티오피아 커피 원두, 단위 = 포대 ]"
     */
    @Override public String toString() {...}
```

- toString으로 반환하는 필드 정보를 제공하는 API를 제공해야 함(GET)
    - 그렇지 않으면 개발자는 toString 반환 값을 파싱하여 필드 정보 등을 가져올 수 밖에 없다.
- 정적 유틸리티 클래스는 toString을 제공하지 않아도 됨
- 열거 타입도 자바 내에서 toString을 제공하므로 따로 정의하지 않아도 됨
- 하위 클래스가 공유해야할 문자열 표현이 있는 추상클래스일 경우 toString을 재정의 해야 함.
    - 예 : 대부분의 컬렉션 구현체(하위 클래스)는 추상 컬랙션 클래스의 toString 메서드를 상속해서 씀

구글 AutoValue 프레임워크가 toString도 자동으로 생성해 줌

그러나 클래스 내용물 의미는 파악하지 못하여 일관적인 toString을 생성하게 됨.
