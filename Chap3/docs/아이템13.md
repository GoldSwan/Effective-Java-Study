### Cloneable 인터페이스

Cloneable 인터페이스란?

- Object 안에 있는 protect 메서드인 clone 메서드의 동작 방식을 결정
- Cloneable 구현 클래스의 인스턴스에서 clone을 호출하면 객체의 필드들을 복사한 객체를 반환
- Cloneable을 구현하지 않은 클래스의 인스턴스에서 clone 호출 시 CloneNotSupportedException 발생

Cloneable의 위험성

- 사용자는 Cloneable을 구현한 클래스의 인스턴스에 있는 clone을 호출하면 복제가 제대로 이루어진다고 기대함.
- 허나 이는 허술한 Clone 일반 규약으로 인해 생성자를 호출하지 않고도 객체를 생성할 수 있으므로 위험하다.

clone 메서드 일반 규약

- 해당 객체의 복사본을 생성하여 반환
- ‘복사’ 라는 의미는 구현 클래스에 따라 다름
- 객체 x에 대한 다음 식은 참이다.
    - x.clone() != x
    - x.clone().getClass() == x.getClass()
- 객체 x에 대한 다음 식은 일반적으로 참이나 필수는 아니다.
    - x.clone().equals(x)
- 관례상 반환 객체는 super.clone() 을 호출해서 얻어야함. clone()으로 호출할 경우 자기 자신을 호출하여 재귀호출이 일어날 수 있으므로 주의 필요
- 관례상 반환 객체와 원본 객체는 독립적이어야 한다. 이를 위해선 super.clone으로 복사한 객체의 필드 하나 이상을 반환 전에 수정해야할 수도 있다.

잘 이해가 안되는 말 정리

- p78 - 관례상 반환 객체와 원본 객체는 독립적이어야 한다. 이를 위해선 super.clone으로 복사한 객체의 필드 하나 이상을 반환 전에 수정해야할 수도 있다.

Reference

[자바, 객체 복사하는 clone() 메소드]

[https://blog.daum.net/sualchi/13720631](https://blog.daum.net/sualchi/13720631)
